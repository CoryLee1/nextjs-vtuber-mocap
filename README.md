# ğŸ­ Next.js VTuber Motion Capture

ä¸€ä¸ªåŸºäº Next.jsã€Three.js å’Œ MediaPipe çš„å®æ—¶è™šæ‹Ÿå½¢è±¡åŠ¨ä½œæ•æ‰åº”ç”¨ï¼Œæ”¯æŒé¢éƒ¨è¡¨æƒ…ã€æ‰‹åŠ¿è¯†åˆ«ã€å…¨èº«å§¿æ€æ£€æµ‹å’Œçœ¼çƒè¿½è¸ªã€‚

![VTuber Motion Capture](https://img.shields.io/badge/Next.js-14.0.4-black?style=for-the-badge&logo=next.js)
![React](https://img.shields.io/badge/React-18.2.0-blue?style=for-the-badge&logo=react)
![Three.js](https://img.shields.io/badge/Three.js-0.158.0-black?style=for-the-badge&logo=three.js)
![MediaPipe](https://img.shields.io/badge/MediaPipe-Holistic-green?style=for-the-badge)

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

### ğŸ­ åŠ¨ä½œæ•æ‰
- **é¢éƒ¨è¡¨æƒ…æ•æ‰** - å®æ—¶è¿½è¸ªé¢éƒ¨è‚Œè‚‰è¿åŠ¨
- **æ‰‹åŠ¿è¯†åˆ«** - æ”¯æŒæ‰‹éƒ¨åŠ¨ä½œå’Œæ‰‹åŠ¿è¯†åˆ«
- **å…¨èº«å§¿æ€æ£€æµ‹** - å®Œæ•´çš„èº«ä½“åŠ¨ä½œæ•æ‰
- **çœ¼çƒè¿½è¸ª** - ç²¾ç¡®çš„çœ¼çƒè¿åŠ¨è¿½è¸ª
- **å¹³æ»‘åŠ¨ç”»** - å¯è°ƒèŠ‚çš„åŠ¨ç”»å¹³æ»‘åº¦è®¾ç½®

### ğŸ¤– VRM æ¨¡å‹æ”¯æŒ
- **å¤šæ¨¡å‹ç®¡ç†** - æ”¯æŒå¤šä¸ª VRM æ¨¡å‹åˆ‡æ¢
- **æ¨¡å‹ä¸Šä¼ ** - æ”¯æŒæœ¬åœ° VRM æ–‡ä»¶ä¸Šä¼ 
- **åœ¨çº¿æ¨¡å‹** - æ”¯æŒä»ç½‘ç»œä¸‹è½½ VRM æ¨¡å‹
- **æ¨¡å‹é¢„è§ˆ** - å®æ—¶æ¨¡å‹é¢„è§ˆå’Œé€‰æ‹©

### ğŸ® æ§åˆ¶é¢æ¿
- **çµæ•åº¦è°ƒèŠ‚** - å¯è°ƒèŠ‚å„ç§åŠ¨ä½œçš„çµæ•åº¦
- **åŠ¨ç”»åº“** - é¢„è®¾åŠ¨ç”»åŠ¨ä½œåº“
- **è°ƒè¯•é¢æ¿** - è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯æ˜¾ç¤º
- **ç›¸æœºæ§åˆ¶** - ç›¸æœºå‚æ•°å®æ—¶è°ƒèŠ‚

### ğŸ“± ç”¨æˆ·ç•Œé¢
- **å“åº”å¼è®¾è®¡** - é€‚é…å„ç§å±å¹•å°ºå¯¸
- **ç°ä»£åŒ– UI** - ç¾è§‚çš„ç”¨æˆ·ç•Œé¢
- **å®æ—¶åé¦ˆ** - å®æ—¶çš„åŠ¨ä½œæ•æ‰åé¦ˆ
- **é”™è¯¯å¤„ç†** - å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+ 
- Chrome/Firefox æµè§ˆå™¨ï¼ˆæ¨èï¼‰
- æ‘„åƒå¤´è®¾å¤‡
- HTTPS ç¯å¢ƒæˆ– localhost

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-username/nextjs-vtuber-mocap.git
cd nextjs-vtuber-mocap
```

### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

### 3. æ·»åŠ  VRM æ¨¡å‹
å°†ä½ çš„ VRM æ¨¡å‹æ–‡ä»¶æ”¾å…¥ `public/models/` ç›®å½•ï¼š
```
public/models/
â”œâ”€â”€ avatar.vrm          # é»˜è®¤æ¨¡å‹
â”œâ”€â”€ anime-girl.vrm      # å¯é€‰æ¨¡å‹
â”œâ”€â”€ realistic.vrm       # å¯é€‰æ¨¡å‹
â””â”€â”€ custom.vrm         # è‡ªå®šä¹‰æ¨¡å‹
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

### 5. è®¿é—®åº”ç”¨
æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000

## ğŸ“– ä½¿ç”¨è¯´æ˜

### åŸºæœ¬æ“ä½œ
1. **å¯åŠ¨åŠ¨æ•** - ç‚¹å‡»å³ä¸‹è§’æ‘„åƒå¤´æŒ‰é’®
2. **è°ƒæ•´ä½ç½®** - ä¿æŒè·ç¦»æ‘„åƒå¤´ 50-100cm
3. **ç¡®ä¿å…‰çº¿** - ä¿æŒå……è¶³çš„å…‰çº¿æ¡ä»¶
4. **é¿å…å¹²æ‰°** - é¿å…å¿«é€Ÿç§»åŠ¨å’Œå¤æ‚èƒŒæ™¯

### é«˜çº§åŠŸèƒ½
- **æ¨¡å‹åˆ‡æ¢** - åœ¨æ¨¡å‹ç®¡ç†é¢æ¿ä¸­åˆ‡æ¢ä¸åŒ VRM æ¨¡å‹
- **å‚æ•°è°ƒèŠ‚** - åœ¨æ§åˆ¶é¢æ¿ä¸­è°ƒèŠ‚å„ç§å‚æ•°
- **åŠ¨ç”»åº“** - ä½¿ç”¨é¢„è®¾åŠ¨ç”»åŠ¨ä½œ
- **è°ƒè¯•ä¿¡æ¯** - æŸ¥çœ‹è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **Next.js 14** - React å…¨æ ˆæ¡†æ¶
- **React 18** - ç”¨æˆ·ç•Œé¢åº“
- **Tailwind CSS** - æ ·å¼æ¡†æ¶

### 3D æ¸²æŸ“
- **Three.js** - 3D æ¸²æŸ“å¼•æ“
- **@react-three/fiber** - React Three.js é›†æˆ
- **@react-three/drei** - Three.js å·¥å…·åº“
- **@react-three/postprocessing** - åå¤„ç†æ•ˆæœ

### åŠ¨ä½œæ•æ‰
- **MediaPipe Holistic** - å…¨èº«åŠ¨ä½œæ•æ‰
- **Kalidokit** - åŠ¨ä½œæ•°æ®å¤„ç†
- **@mediapipe/camera_utils** - ç›¸æœºå·¥å…·
- **@mediapipe/drawing_utils** - ç»˜å›¾å·¥å…·

### è™šæ‹Ÿå½¢è±¡
- **@pixiv/three-vrm** - VRM æ¨¡å‹æ”¯æŒ

### çŠ¶æ€ç®¡ç†
- **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- **Leva** - è°ƒè¯•æ§åˆ¶é¢æ¿

## ğŸ“ é¡¹ç›®ç»“æ„

```
nextjs-vtuber-mocap/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ models/           # VRM æ¨¡å‹æ–‡ä»¶
â”‚   â””â”€â”€ images/          # å›¾ç‰‡èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/      # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ VTuberApp.jsx          # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ VRMAvatar.jsx          # VRM æ¨¡å‹æ¸²æŸ“
â”‚   â”‚   â”œâ”€â”€ ControlPanel.jsx       # æ§åˆ¶é¢æ¿
â”‚   â”‚   â”œâ”€â”€ AnimationLibrary.jsx   # åŠ¨ç”»åº“
â”‚   â”‚   â”œâ”€â”€ ModelManager.jsx       # æ¨¡å‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ CameraWidget.jsx       # ç›¸æœºç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SmoothSettingsPanel.jsx # å¹³æ»‘è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ SensitivityPanel.jsx   # çµæ•åº¦è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ DebugHelpers.jsx       # è°ƒè¯•å·¥å…·
â”‚   â”‚   â”œâ”€â”€ HandDebugPanel.jsx     # æ‰‹éƒ¨è°ƒè¯•
â”‚   â”‚   â”œâ”€â”€ ArmTestPanel.jsx       # æ‰‹è‡‚æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ AnimationCard.jsx      # åŠ¨ç”»å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ ModelCard.jsx          # æ¨¡å‹å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ UI.jsx                 # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ CameraController.jsx   # ç›¸æœºæ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ FileUploader.jsx       # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ pages/          # Next.js é¡µé¢
â”‚   â””â”€â”€ styles/         # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ jsconfig.json       # è·¯å¾„åˆ«åé…ç½®
â”œâ”€â”€ tailwind.config.js  # Tailwind é…ç½®
â”œâ”€â”€ next.config.js      # Next.js é…ç½®
â””â”€â”€ package.json        # é¡¹ç›®ä¾èµ–
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `src/components/` ä¸­åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `src/hooks/` ä¸­æ·»åŠ è‡ªå®šä¹‰ hooks
3. åœ¨ `src/utils/` ä¸­æ·»åŠ å·¥å…·å‡½æ•°

### è°ƒè¯•æ¨¡å¼
é¡¹ç›®åŒ…å«å¤šä¸ªè°ƒè¯•é¢æ¿ï¼š
- **HandDebugPanel** - æ‰‹éƒ¨åŠ¨ä½œè°ƒè¯•
- **ArmTestPanel** - æ‰‹è‡‚åŠ¨ä½œæµ‹è¯•
- **DebugHelpers** - é€šç”¨è°ƒè¯•å·¥å…·

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨åŠ¨æ€å¯¼å…¥é¿å… SSR é—®é¢˜
- ä¼˜åŒ– Three.js æ¸²æŸ“æ€§èƒ½
- åˆç†ä½¿ç”¨ React.memo å’Œ useMemo

## ğŸ“¦ éƒ¨ç½²

### Vercel éƒ¨ç½²ï¼ˆæ¨èï¼‰
```bash
npm i -g vercel
vercel --prod
```

### å…¶ä»–å¹³å°
```bash
npm run build
npm run start
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [MediaPipe](https://mediapipe.dev/) - åŠ¨ä½œæ•æ‰æŠ€æœ¯
- [Three.js](https://threejs.org/) - 3D æ¸²æŸ“å¼•æ“
- [VRM](https://vrm.dev/) - è™šæ‹Ÿå½¢è±¡æ ‡å‡†
- [Next.js](https://nextjs.org/) - React æ¡†æ¶

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤ Issue
- å‘é€é‚®ä»¶
- åŠ å…¥è®¨è®ºç¾¤

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼